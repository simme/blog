<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <title>I Am Simme</title>
      <link href="https://fonts.googleapis.com/css?family=Oswald:600&amp;subset=latin-ext" rel="stylesheet">
      <link href="https://iamsim.me/css/master.css" rel="stylesheet">
      <link href="https://iamsim.me/index.xml" rel="alternate" type="application/rss+xml" title="" />
      <link href="https://iamsim.me/index.xml" rel="feed" type="application/rss+xml" title="" />
      <link href="" rel="alternate" type="application/json" title="" />
   </head>
   <body>
      <header class="page-header">
         
            <a href="https://iamsim.me/" class="page-header-logo">I Am Simme</a>
         
         <p>
            A blog about programming, photography and other things I like and don't.
         </p>
      </header>

      <section class="main">


    <article class="post">
      <span class="date">September 14, 2015</span>
      <h1>My Résumé: or How I Accidentally Built a Static Site Generator</h1>
      <div class="content">
         <p>One thing that I did not really realize when I started freelancing was that potentially customers sometimes asks for a résumé. I hadn&rsquo;t had a résumé in over six years. And I probably only wrote one or two before that.</p>

<p>So last week when I was approached by a company, that I really wanted to work with, asked for my résumé I sat down to write one. I opened up a new Google Docs file and started writing. After a few minutes of writing that stupid programmer&rsquo;s brain of mine realized that I was spending a lot of time doing repetitive tasks like formatting dates and titles.</p>

<blockquote>
<p>I should write this as a JSON file and let the computer style it for me!</p>
</blockquote>

<p><code>cmd-w</code> good bye Google Docs. Fired up Vim and started typing JSON instead. But JSON is not great for typing stuff. <code>/me converts file to YAML</code>. Ok, got my résumé data figured out. Now what?</p>

<p>I needed to take a pile of data run it through some templating engine and present the resulting HTML. Simple enough. But.. I should probably have a special Handlebars helper to <a href="https://github.com/simme/resume/blob/master/themes/formal/helpers/date-range.js">format date ranges</a>. And one for <a href="https://github.com/simme/resume/blob/master/themes/formal/helpers/md.js">converting Markdown</a>. And one for <a href="https://github.com/simme/resume/blob/master/themes/formal/helpers/orphan-killer.js">killing orphans</a> (I&rsquo;m not a monster, talking about lonley words here. And not actually about killing them, rather giving them a friend. So I&rsquo;m a kind of word hero.)</p>

<p>It&rsquo;s very tiresome to have to remember to include these new helpers every time I write a new helper.. I could probably automate this! And that&rsquo;s how the <a href="https://github.com/simme/resume/blob/master/theme.js">Theme</a> thing was born. Takes a path, loads helpers and partials at said path. Provides methods for rendering a template into HTML.</p>

<p>Hm.. but now, how do I actually run this stuff? Seems like this would be a good use case for a build system. Like Gulp. A set of simple tasks for compiling CSS, minifying HTML, inlining critical CSS (which was all CSS..) and optimizing images. A <a href="https://github.com/simme/resume/blob/master/Gulpfile.js">Gulpfile</a> saw the light of day.</p>

<p>One last thing. This HTML I now have gotta be hosted somewhere. I have this Linode. But it&rsquo;s setup with Haproxy to just serve a bunch of Node.js servers. So using <a href="https://www.npmjs.com/package/static-server">static server</a> I cobbled together a simple script that could be run using Forever.</p>

<p>Actually, <strong>now the last thing</strong>. Code has to move from my computer to the server. Hmm.. I guess I could just build a simple Gulp task that somehows.. moves.. hmm.. <em>rsync</em>. Let&rsquo;s just use frickin&rsquo; <em>rsync</em>.</p>

<pre><code>cp -R build/ /tmp/simonljsv
mv /tmp/simonljsv/resume-sv.html /tmp/simonljsv/index.html
rm /tmp/simonljsv/resume-en.html
rsync -avz /tmp/simonljsv/ root@iamsim.me:~/simonljungberg.se/
rm -rf /tmp/simonljsv

cp -R build/ /tmp/simonljen
mv /tmp/simonljen/resume-en.html /tmp/simonljen/index.html
rm /tmp/simonljen/resume-sv.html
rsync -avz /tmp/simonljen/ root@iamsim.me:~/simonljungberg.com/
rm -rf /tmp/simonljen
</code></pre>

<p>Simple enough! Also.. that server thing is not really built for production. Not that it&rsquo;ll have to withstand tons of load.. Haproxy doesn&rsquo;t really do caching. So let&rsquo;s put Cloud Flare in front of it. It&rsquo;s free for my purposes. And wow, look at that. PageSpeed Insights are now showing 98 and 94 for mobile and desktop respectively. If it wasn&rsquo;t for TypeKit and Google Analytics I&rsquo;d be nailing that 100 so hard.</p>

<p>Did this make me finish the résumé faster? No. On the contrary, it took me a few nights longer then if I had just written that Google Docs. But now I have my CV datafied. Which is nice. And I also got to built a tiny personal site for myself. I&rsquo;m no designer, but I think it looks ok!</p>

<p>You can check &lsquo;em out at <a href="http://simonljungberg.se">simonljungberg.se</a> for the Swedish version and <a href="http://simonljungberg.com">simonljungberg.com</a> for the English — not yet proof read — version!</p>

      </div>
    </article>
      </section>

      <footer class="page-footer">
         <p>
            All content and code on this site is provided under the MIT license.
         </p>
         <nav>
            <ol>
               <li><a href="https://twitter.com/simmelj">@simmelj</a></li>
               <li><a href="https://github.com/simme">GitHub</a></li>
            </ol>
         </nav>
      </footer>
   </body>
</html>

